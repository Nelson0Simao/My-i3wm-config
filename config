# === MODIFIERS ===
set $mod Mod1
set $super Mod4

# === DIREÇÕES ===
set $up Up
set $down Down
set $left Left
set $right Right

# === APARÊNCIA ===
font pango:FantasqueSansMono Nerd Font 12
new_window pixel 1
new_float pixel 1
hide_edge_borders both
focus_follows_mouse no
mouse_warping none

# === INICIALIZAÇÃO ===
exec --no-startup-id feh --bg-scale /home/srroot/Imagens/Wellpapel/wallpapel.28.png
exec --no-startup-id ~/.config/i3/scripts/mouse.sh
exec --no-startup-id ulauncher
exec_always --no-startup-id nitrogen --restore

# === RESOLUÇÃO ===
exec xrandr --output DP-1 --mode 1366x768

# === JANELA ESPECÍFICA ===
for_window [class="Ulauncher"] floating enable, border none, focus off, move position center
for_window [class="Brave-browser"] floating disable

# === GAPS ===
gaps inner 10
gaps outer 1
for_window [class="^.*"] border pixel 1

# === BAR ===
bar {
    status_command i3status -c ~/.config/i3status/config
    position top
}

# === CORES ===
client.focused          #81a1c1 #81a1c1 #ffffff #81a1c1
client.unfocused        #2e3440 #1f222d #888888 #1f222d
client.focused_inactive #2e3440 #1f222d #888888 #1f222d
client.urgent           #900000 #900000 #ffffff #900000
client.background       #242424

# === TECLAS PRINCIPAIS ===
bindsym $super+Return exec --no-startup-id alacritty
bindsym $super+q kill
bindsym $super+r mode "resize"
bindsym $mod+q kill

# === WORKSPACES ===
bindsym $super+1 workspace 1
bindsym $super+2 workspace 2
bindsym $super+3 workspace 3
bindsym $super+4 workspace 4
bindsym $super+5 workspace 5
bindsym $super+6 workspace 6
bindsym $super+7 workspace 7
bindsym $super+8 workspace 8
bindsym $super+9 workspace 9

bindsym $super+Shift+1 move container to workspace 1
bindsym $super+Shift+2 move container to workspace 2
bindsym $super+Shift+3 move container to workspace 3
bindsym $super+Shift+4 move container to workspace 4
bindsym $super+Shift+5 move container to workspace 5
bindsym $super+Shift+6 move container to workspace 6
bindsym $super+Shift+7 move container to workspace 7
bindsym $super+Shift+8 move container to workspace 8
bindsym $super+Shift+9 move container to workspace 9

# === NAVEGAÇÃO ===
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev
bindsym $super+Tab workspace back_and_forth
bindsym $mod+Control+Right workspace next
bindsym $mod+Control+Left workspace prev

# === LAYOUT ===
bindsym $mod+h split h
bindsym $mod+v split v
bindsym $mod+f fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent

floating_modifier $mod
bindsym $mod+Shift+space floating toggle

# === SCRATCHPAD ===
bindsym $super+Shift+minus move scratchpad
bindsym $super+minus scratchpad show

# === RESIZE MODE ===
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym $left  resize shrink width 10 px or 10 ppt
    bindsym $down  resize grow height 10 px or 10 ppt
    bindsym $up    resize shrink height 10 px or 10 ppt
    bindsym $right resize grow width 10 px or 10 ppt
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# === GAPS MODE ===
bindsym $super+g mode "$mode_gaps"
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer: +|-|0 (local), Shift++|-|0 (global)
set $mode_gaps_inner Inner: +|-|0 (local), Shift++|-|0 (global)

mode "$mode_gaps" {
    bindsym o mode "$mode_gaps_outer"
    bindsym i mode "$mode_gaps_inner"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5
    bindsym 0     gaps inner current set 0
    bindsym Shift+plus  gaps inner all plus 5
    bindsym Shift+minus gaps inner all minus 5
    bindsym Shift+0     gaps inner all set 0
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus  gaps outer current plus 5
    bindsym minus gaps outer current minus 5
    bindsym 0     gaps outer current set 0
    bindsym Shift+plus  gaps outer all plus 5
    bindsym Shift+minus gaps outer all minus 5
    bindsym Shift+0     gaps outer all set 0
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# === SISTEMA ===
set $mode_system System: (k) lock, (l) logout, (u) suspend, (h) hibernate, (r) reboot, (s) shutdown
bindsym $super+0 mode "$mode_system"

mode "$mode_system" {
    bindsym k exec --no-startup-id ~/.config/i3/scripts/i3exit.sh lock, mode "default"
    bindsym l exec --no-startup-id ~/.config/i3/scripts/i3exit.sh logout, mode "default"
    bindsym u exec --no-startup-id ~/.config/i3/scripts/i3exit.sh suspend, mode "default"
    bindsym h exec --no-startup-id ~/.config/i3/scripts/i3exit.sh hibernate, mode "default"
    bindsym r exec --no-startup-id ~/.config/i3/scripts/i3exit.sh reboot, mode "default"
    bindsym s exec --no-startup-id ~/.config/i3/scripts/i3exit.sh shutdown, mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+0 exec --no-startup-id i3-nagbar -t warning -m "Encerrar? [s] sair [r] reiniciar [p] desligar" \
    -b "Sair" "i3-msg exit" -b "Reiniciar" "systemctl reboot" -b "Desligar" "systemctl poweroff"

bindsym $super+Shift+e exec i3-nagbar -t warning -m "Sair do i3?" -b "Sim" "i3-msg exit"

# === RECARREGAR ===
bindsym $super+Shift+c reload
bindsym $super+Shift+r restart

# === BAR TOGGLE ===
bindsym $super+b bar mode toggle
bindsym $super+i bar mode invisible

# === APLICATIVOS ===
bindsym $super+p exec --no-startup-id pavucontrol

# === PRINTS ===
bindsym Print exec maim -s --format png /dev/stdout | xclip -selection clipboard -t image/png -i
bindsym $super+Print exec maim --select | tee ~/Pictures/$(date +%s).png | xclip -sel c -t image/png

# === ÁUDIO ===
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

# === BRILHO ===
bindsym XF86MonBrightnessUp exec light -A 1
bindsym XF86MonBrightnessDown exec light -U 1

# === TECLADO ===
exec xset r rate 300 50 &

# === OTIMIZAÇÃO FINAL (máximo de performance) ===
exec --no-startup-id picom -b --inactive-opacity 0.95 --config /dev/null 2>/dev/null || true
exec --no-startup-id xset s off -dpms
exec --no-startup-id setxkbmap -option terminate:ctrl_alt_bksp
